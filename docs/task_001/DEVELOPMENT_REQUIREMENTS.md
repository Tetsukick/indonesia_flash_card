### **開発要件定義書：レッスン達成度表示機能**

#### 1. 概要
レッスン選択画面において、各レッスン（レベル別、品詞別、カテゴリ別）の単語習熟度の達成度を視覚的に表示する。これにより、ユーザーは自身の学習進捗を容易に把握できるようになる。

#### 2. 機能要件
- **達成度の計算:**
    - **計算式:** `(ステータスが "remembered" または "perfectRemembered" の単語数) / (レッスンに含まれる全単語数)`
    - **対象ステータス:** `WordStatusType.remembered` (ID: 1) と `WordStatusType.perfectRemembered` (ID: 2) を達成済みとみなす。

- **達成度の表示:**
    - **対象画面:** `lib/screen/lesson_selector/lesson_selector_screen.dart`
    - **表示形式:** 各レッスン項目に、プログレスバーと達成率のパーセンテージ（例: 75%）を併記する。

- **データ更新タイミング:**
    - レッスン完了時にのみ、該当するレッスンの達成度を再計算する。リアルタイム更新は行わない。
    - **対象トリガー画面:** `completion_screen.dart`, `completion_today_test_screen.dart`

- **データ永続化:**
    - 計算した達成度は、ローカルデータベース(`floor`)に保存し、レッスン選択画面では常にデータベースから値を読み込んで表示する。

#### 3. UI/UX デザイン案
- 既存のレッスン選択画面の各リスト項目を改修する。
- `percent_indicator` パッケージを利用し、プログレスバーを実装する。
- プログレスバーとパーセンテージテキストは、既存のアプリデザインと親和性の高い配色・レイアウトとする。

**デザインモックアップ（レベル別リストの例）**
```
+--------------------------------------------------+
| Level 1                                    ▼    |
| [■■■■■■■■■■■■■■■■■■□□□□□□□□□□□□]  75%      |
+--------------------------------------------------+
| Level 2                                    ▼    |
| [■■■■■■■■■■□□□□□□□□□□□□□□□□□□□□□□]  50%      |
+--------------------------------------------------+
```

#### 4. 技術要件・実装方針
- **データベース (Floor):**
    - 達成度を保存するための新しいEntity `AchievementRate` とDAO `AchievementRateDao` を作成する。
    - **`AchievementRate` Entity スキーマ案:**
        - `id` (String, Primary Key): レッスンの種類とIDを組み合わせたユニークキー (例: `level_1`, `category_3`)
        - `rate` (double): 達成率 (0.0 ~ 1.0)
        - `updatedAt` (int): 更新日時 (Timestamp)
    - 上記の変更に伴い、データベースのバージョンを更新し、マイグレーション処理を実装する。

- **状態管理 (Riverpod) & ビジネスロジック:**
    - `TangoListController` に、レッスン完了後の達成度計算およびDB保存処理を実装する。
    - 達成度データをUIに提供するための新しい `Provider` を定義する。

- **UI実装:**
    - `lesson_selector_screen.dart` を改修し、Provider経由で達成度データを取得・表示する。
    - `percent_indicator` パッケージの `LinearPercentIndicator` などを利用してUIコンポーネントを構築する。
